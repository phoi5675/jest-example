@startuml 3_integration_test_overview
mainframe **Integration test overview**
hide stereotype

skinparam linetype ortho
skinparam <<transparent>> {
  ComponentStyle rectangle
  ComponentFontColor white
  ComponentBackgroundColor transparent
  ComponentBorderColor transparent
}
skinparam DefaultTextAlignment left

skinparam <<jest>> {
  PackageBackgroundColor Orange
}

skinparam <<jest_note>> {
  NoteBorderColor transparent
  NoteBackgroundColor transparent
}

skinparam <<database>> {
  DatabaseBackgroundColor Wihte
}

package "Jest ğŸƒ" <<jest>> AS Jest {
  note AS jest_note <<jest_note>>
    1. í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•  ê°’ì„ DBì— ì¶”ê°€(**Setup**)
    2. (Optional) í•„ìš”í•œ í•¨ìˆ˜ì— ëŒ€í•´ mock ì ìš©
    3. í…ŒìŠ¤íŠ¸ ì‹œì‘ : í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ handler í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
    4. handler í•¨ìˆ˜ì˜ return value í™•ì¸
      a. return valueê°€ ì˜ˆìƒí•œ ê°’ì¸ ê²½ìš°ì—ëŠ” í…ŒìŠ¤íŠ¸ Pass
      b. ì˜ˆìƒí•œ ê°’ê³¼ ë‹¤ë¥¸ ê²½ìš°ì—ëŠ” í…ŒìŠ¤íŠ¸ Fail
    5. í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•œ ê°’ì„ DBì—ì„œ ì‚­ì œ(**Teardown**)
    6. í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ë° ê²°ê³¼ ì¶œë ¥
  end note
}

note bottom of Jest
  ìš”ì•½
  1. Setup
  2. Run test
  3. Teardown
  4. End test
end note

queue "Function call" AS function_call
queue "Return value by function" AS function_return

cloud Backend {
  rectangle handler {
    component "(POST) /auth/login handler" as login_handler
    component "(GET/PATCH/DELETE) /navigation handler" as nav_handler

    login_handler -down[hidden]- nav_handler
  }
  rectangle service {
    component "(POST) /auth/login service" as login_service
    component "(GET/PATCH/DELETE) /navigation service" as nav_service

    login_service -down[hidden]- nav_service
  }
}

database DB <<database>> {
  note as db_note <<jest_note>>
    1. Setup ë‹¨ê³„ì—ì„œ í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ê°’ ì‚½ì…
    2. Teardown ë‹¨ê³„ì—ì„œ í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•œ ê°’ ì‚­ì œ
  end note
}

function_call -down[hidden]- function_return

Jest - function_call
handler <- function_call

Jest <- function_return
handler -right- function_return

Jest -right[hidden]- Backend
DB <-up---> service

handler <-> service

@enduml